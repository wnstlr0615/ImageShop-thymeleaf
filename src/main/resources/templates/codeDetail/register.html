<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main_template}"
>
<head>
    <meta charset="UTF-8">
    <title>CodeDetail</title>
</head>
<body>
<div layout:fragment="content">
  <h2 th:text="#{codedetail.header.register}">코드 등록</h2>
  <form id="codeDetail" action="../codeDetail/register.html" th:action="@{/codeDetail/register}" method="post" th:object="${codeDetail}">
    <table>
      <tr>
        <td th:text="#{codedetail.groupCode}">그룹 코드</td>
        <td>
          <select th:field="*{groupCode}">
            <option th:each="groupCode : ${groupCodeList}" th:value="${groupCode.value}" th:text="${groupCode.label}">hoppy</option>
          </select>
        </td>
      </tr>
      <tr>
        <td th:text="#{codedetail.codeValue}">코드값</td>
        <td>
          <input type="text" th:field="*{codeValue}">
        </td>
      </tr>
      <tr>
        <td th:text="#{codedetail.codeName}">코드명</td>
        <td><input type="text" th:field="*{codeName}"></td>
      </tr>
    </table>
  </form>
  <div>
    <button type="submit" id="btnRegister" th:text="#{action.register}">등록</button>
    <button type="submit" id="btnList" th:text="#{action.list}">목록</button>
  </div>
  <script>
    $(document).ready(function(){
      let formObj=$("#codeDetail");
      $("#btnRegister").on("click", function (){
        formObj.submit();
      });
      $("#btnList").on("click", function(){
        self.location="list";
      });
    });
  </script>
</div>

</body>

</html>